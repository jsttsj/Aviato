<<<<<<< HEAD
shiny::runApp('Aviato')
=======
base.url <- "https://api.twitter.com/1.1/search/tweets.json?q=%23"
hashtag <- input$search
query <- paste0(base.url, hashtag)
base.url <- "https://api.twitter.com/1.1/search/tweets.json?q=%23"
query <- paste0(base.url, "cheese")
query
fromJSON(query)
library(jsonlite)
fromJSON(query)
library(twitteR)
library(dplyr)
setup_twitter_oauth("2N7LWUtcIhDclJyD3o4xiVALn",
"HveoCvmFP0tVpXKRVjB5DfZHumbt1zYqEPtHZ6Pnim3nxBMMjJ",
"2942573478-EwMmyzjO3J7JMHFGYHk8aaC2R4DVyqBz4lrYGmL",
"G8tItt1fvtrwFV7jMPgwlnp0mtr9f9VAcKi66jMtt5bXT")
locations <- twitteR::availableTrendLocations()
# getting only the locations and the id's associated
locations.US <- locations %>%
filter(country == 'United States', name != 'United States') %>%
select(name, woeid)
#removing spaces and hyphens for easier storage
locations.US.nospace <- locations.US
locations.US.nospace$name <- gsub(" ", "", locations.US.nospace$name)
locations.US.nospace$name <- gsub("-", "", locations.US.nospace$name)
city.data <- c(1:63)
city.data
names(city.data)
names(city.data) <- locations.US
city.data[1]
city.data <- c(1:63)
names(city.data) <- locations.US
for(i in 1:nrow(locations.US)){
name <- paste0('state.data.', locations.US.nospace$name[i])
assign(name, twitteR::getTrends(locations.US.nospace$woeid[i]))
list <- eval(parse(text = name)) %>% select(name) %>% split(seq(nrow(eval(parse(text = name)))))
list <- list[c(1:20)]
city.data[i] <- list
}
View(city.data)
city.data
city.data[1]
city.data <- list()
names(city.data)
names(city.data) <- locations.US
city.data <- list(63)
city.data <- list(1:63)
names(city.data) <- locations.US
names(city.data) <- locations.US$name
length(names(city.data))
names(city.data) <- c(1:63)
name <- paste0('state.data.', locations.US$name[1])
assign(name, twitteR::getTrends(locations.US$woeid[1]))
list <- eval(parse(text = name)) %>% select(name) %>% split(seq(nrow(eval(parse(text = name)))))
list <- list[c(1:20)]
list <- unlist(list)
list
city.data <- c(1:63)
names(city.data) <- locations.US$name
city.data[1] <- list
city.data
city.data <- vector(mode = "list")
paste0("city.data$", locations.US$name[i])
name <- paste0('state.data.', locations.US$name[1])
assign(name, twitteR::getTrends(locations.US$woeid[1]))
list <- eval(parse(text = name)) %>% select(name) %>% split(seq(nrow(eval(parse(text = name)))))
list <- list[c(1:20)]
paste0("city.data$", locations.US$name[i]) <- list
eval(parse(text = "paste0("city.data$", locations.US$name[i])")) <- list
setup_twitter_oauth("KgSpEvpVmBqyjaHb8NKRS2cbq",
"XLGHwHKXUF6rt4m3lXQNhCOVsAyzneQrznBe4INje27olbCUHO",
"803743164884340736-ceXBIGtqVWc8wp27jXclV82QX6gWtoT",
"Ipi5Fun3ct3xbVFcfsAkCabWYMk0WLTp7Uyq3syYRVhKJ")
# trend locations
locations <- twitteR::availableTrendLocations()
# getting only the locations and the id's associated
locations.US <- locations %>%
filter(country == 'United States', name != 'United States') %>%
select(name, woeid)
#removing spaces and hyphens for easier storage
locations.US.nospace <- locations.US
locations.US.nospace$name <- gsub(" ", "", locations.US.nospace$name)
locations.US.nospace$name <- gsub("-", "", locations.US.nospace$name)
#initializing an empty matrix
city.data <- matrix(list(), nrow = 63, ncol = 2)
for(i in 1:nrow(locations.US)){
name <- paste0('state.data.', locations.US.nospace$name[i])
assign(name, twitteR::getTrends(locations.US.nospace$woeid[i]))
list <- eval(parse(text = name)) %>% select(name) %>% split(seq(nrow(eval(parse(text = name)))))
list <- list[c(1:20)]
city.data[[i, 1]] <- locations.US$name[i]
city.data[[i, 2]] <- list
}
city.data
dimnames(city.data) <- list(unlist(locations.US$name), c("lol", "lul"))
city.data
city.data <- matrix(list(), nrow = 63, ncol = 1)
dimnames(city.data) <- list(unlist(locations.US$name), c("Data"))
for(i in 1:nrow(locations.US)){
name <- paste0('state.data.', locations.US.nospace$name[i])
assign(name, twitteR::getTrends(locations.US.nospace$woeid[i]))
list <- eval(parse(text = name)) %>% select(name) %>% split(seq(nrow(eval(parse(text = name)))))
list <- list[c(1:20)]
city.data[[i, 1]] <- locations.US$name[i]
city.data[[i, 2]] <- list
}
for(i in 1:nrow(locations.US)){
name <- paste0('state.data.', locations.US.nospace$name[i])
assign(name, twitteR::getTrends(locations.US.nospace$woeid[i]))
list <- eval(parse(text = name)) %>% select(name) %>% split(seq(nrow(eval(parse(text = name)))))
list <- list[c(1:20)]
city.data[[i, 1]] <- list
}
city.data
>>>>>>> 259060b3a73aec0986c235d7703fa18c23d3cb75
